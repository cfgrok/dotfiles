---
- name: Set up EULA response for MS fonts
  ansible.builtin.debconf:
    name: ttf-mscorefonts-installer
    question: msttcorefonts/accepted-mscorefonts-eula
    vtype: boolean
    value: "true"
  become: true

- name: Install standard packages
  ansible.builtin.apt:
    name:
      - abcde
      - audacity
      - autojump
      - brasero
      - dconf-editor
      - exuberant-ctags
      - fd-find
      - ffmpeg
      - fonts-inconsolata
      - gimp
      - git-extras
      - gnome-gmail
      - gnome-nettool
      - htop
      - keepassxc
      - meld
      - mint-backgrounds-uma
      - nethogs
      - nfs-common
      - nmap
      - peek
      - ripgrep
      - screenkey
      - ssh-askpass-gnome
      - simplescreenrecorder
      - taskwarrior
      - tree
      - ubuntu-restricted-extras
      - vagrant
      - vim-nox
      - virtualbox
      - vlc
    update_cache: true
  become: true

- name: Set askpass path in sudo.conf
  ansible.builtin.lineinfile:
    path: /etc/sudo.conf
    line: Path askpass /usr/bin/ssh-askpass
    insertafter: "#Path askpass"
  become: true

- name: Correct autojump data_home path -- step 1
  ansible.builtin.replace:
    path: /usr/share/autojump/autojump
    regexp: ',\n +''autojump''\)\)'
    replace: '))'
  become: true

- name: Correct autojump data_home path -- step 2
  ansible.builtin.replace:
    path: /usr/share/autojump/autojump
    regexp: "data_home, 'autojump.txt"
    replace: "data_home, 'autojump', 'autojump.txt"
  become: true

- name: Copy rg ignore file
  ansible.builtin.copy:
    src: files/rgignore
    dest: ~/.config/rg/

- name: Copy rg config file from template
  ansible.builtin.template:
    src: files/rgrc.j2
    dest: ~/.config/rg/rgrc
